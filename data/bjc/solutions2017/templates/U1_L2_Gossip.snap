snapshot {
    stage {
        sprite {
            @repeat (3, 3) {
                script {
                    evaluateCustomBlock
                }
            }
            script {
                @or {
                    receiveInteraction,
                    receiveGo
                }
                @optional { setScale }
                bubble(evaluateCustomBlock)
                doBroadcast
            }
        }
        sprite {
            @repeat (2, 2) {
                script {
                    evaluateCustomBlock
                }
            }
            @optional {
                script {
                    receiveGo
                    setScale
                }
            }
            script {
                receiveMessage
                doWait
                bubble(evaluateCustomBlock)
            }
        }
    }
    @defBlock LIST_BLOCK {
        customBlock {
            script {
                doReport(reportListItem(literal, reportNewList(list(
                    @anything
                ))))
            }
        }
    }
    @block LIST_BLOCK
    @block LIST_BLOCK
    customBlock {
        script {
            doReport(reportJoinWords(list(evaluateCustomBlock, literal, evaluateCustomBlock, literal, evaluateCustomBlock)))
        }
    }
    @block LIST_BLOCK

    @defVar (RESP) {
        customBlock {
            script {
                doReport(reportJoinWords(list(
                    @if (RESP) {
                        evaluateCustomBlock
                    }
                    @optional { literal }
                    evaluateCustomBlock, literal, evaluateCustomBlock, literal, evaluateCustomBlock
                )))

            }
        }
        @if (RESP) {
            @block LIST_BLOCK
        }
    }
}
