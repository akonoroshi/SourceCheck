snapshot {
    stage {
        sprite {
            @defVar CHECK {
                script {
                    receiveGo
                    gotoXY
                    @anyOrder {
                        clear
                        down
                        setHeading
                        setSize
                        setColor
                    }
                }
                script {
                    receiveKey
                    clear
                }
                script {
                    receiveKey
                    setHeading
                    @if CHECK {
                        doIf (reportLessThan(xPosition, literal), script {
                            forward
                        })
                    } @unless CHECK {
                        forward
                    }
                }
                script {
                    receiveKey
                    setHeading
                    @if CHECK {
                        doIf (reportLessThan(yPosition, literal), script {
                            forward
                        })
                    } @unless CHECK {
                        forward
                    }
                }
                script {
                    receiveKey
                    setHeading
                    @if CHECK {
                        doIf (reportLessThan(literal, xPosition), script {
                            forward
                        })
                    } @unless CHECK {
                        forward
                    }
                }
                script {
                    receiveKey
                    setHeading
                    @if CHECK {
                        doIf (reportLessThan(literal, yPosition), script {
                            forward
                        })
                    } @unless CHECK {
                        forward
                    }
                }
            }
        }
    }
}