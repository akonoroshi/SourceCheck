snapshot {
    @defVar GLOBAL {
        stage {
            sprite {
                @repeat (1, 4) {
                    script {
                        evaluateCustomBlock(literal)
                    }
                }
            }
        }
        customBlock {
            script {
                doRun(reportJSFunction(list(literal, literal), literal), list(var, var))
            }
            var
            var
        }
        customBlock {
            script {
                setColor(literal)
                evaluateCustomBlock(reportBoolean(literal))
                setSize(var)
                down
                forward(var)
                up
            }
            var
            var
        }
        customBlock {
            script {
                evaluateCustomBlock(literal, literal)
            }
            var
        }
        customBlock {
            script {
                doRepeat(literal, script {
                    evaluateCustomBlock(literal, literal)
                    forward(literal)
                })
            }
        }
        customBlock {
            script {
                evaluateCustomBlock(literal, literal)
                @or {
                    @inline {
                        forward(literal)
                        doRepeat(literal, script {
                            evaluateCustomBlock(literal, literal)
                            forward(literal)
                        })
                    }
                    @inline {
                        doRepeat(literal, script {
                            forward(literal)
                            evaluateCustomBlock(literal, literal)
                        })
                        forward(literal)
                    }
                }
                evaluateCustomBlock(literal, literal)
            }
        }
        @defVar (IMPORT) {
            @if (IMPORT) {
                customBlock {
                    script {
                        doReport(evaluateCustomBlock(var, literal))
                    }
                    var
                }
                customBlock {
                    script {
                        doReport(reportEquals(literal, reportModulus(var, var)))
                    }
                    var
                    var
                }
            }
            customBlock {
                script {
                    @defVar (MULT) {
                        @anyOrder {
                            @if (GLOBAL) { doSetVariable(literal, literal) }
                            @unless (GLOBAL) { doDeclareVariables(list(literal)) }
                            @unless (MULT) {
                                @or {
                                    setYPosition(literal)
                                    gotoXY(literal, literal)
                                }
                            }
                        }
                        doRepeat(var, script {
                            @unless (MULT) {
                                setXPosition(literal)
                                changeYPosition(literal)
                            }
                            @if (MULT) {
                                gotoXY(literal, @or {
                                    reportProduct(literal, var)
                                    reportSum(literal, reportProduct(literal, var))
                                })
                            }
                            doIfElse(
                                @if (IMPORT) { evaluateCustomBlock(var) }
                                @unless (IMPORT)  {
                                    reportEquals(literal, reportModulus(var, literal))
                                }
                                script {
                                    evaluateCustomBlock
                                }, script {
                                    evaluateCustomBlock
                                }
                            )
                            doChangeVar(literal, literal)
                        })
                    }
                }
                var
            }
        }
        @if (GLOBAL) { var }
    }
}